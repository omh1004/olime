<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
  <meta name="generator" content="Hugo 0.88.1">
  <title>라임</title>

  <link rel="canonical" href="https://getbootstrap.com/docs/5.1/examples/sign-in/">



  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.min.css">

  <link href="https://hangeul.pstatic.net/hangeul_static/css/nanum-gothic.css" rel="stylesheet">
  <link href="https://hangeul.pstatic.net/hangeul_static/css/nanum-barun-gothic.css" rel="stylesheet">

  <style>
    .bd-placeholder-img {
      font-size: 1.125rem;
      text-anchor: middle;
      -webkit-user-select: none;
      -moz-user-select: none;
      user-select: none;
    }

    @media (min-width: 768px) {
      .bd-placeholder-img-lg {
        font-size: 3.5rem;
      }
    }
  </style>


  <!-- Custom styles for this template -->
  <link href="header.css" rel="stylesheet">
  <link href="signup2.css" rel="stylesheet">
</head>

<body class="text-center">

  <nav>
    <div class="signup-header">
      <div class="nav-logo"><a href="/header/header.html">lime</a></div>
      <div class="nav-links-div">
        <a href="../../login/login.html">로그인</a>
        <span>|</span>
        <a href="../../signup/signup1.html">회원가입</a>
      </div>
    </div>
  </nav>

  <main class="form-lime mt-5">

      <h1 class="h4 mb-4 h-lime">추가정보를 작성해주세요.</h1>

      <br>
<form name="form2">
      <div class="form-signup">
        <label for="inputEmail" class="form-label">생년월일</label>
        <div class="row day-of-birth">
          <select class="form-select col" aria-label="year" name="yy" id="year">
            년
          </select>
          <select class="form-select col" aria-label="year" name="mm" id="month">
            월
          </select>
          <select class="form-select col" aria-label="year" name="dd" id="day">
            일
        </select>
        </div>
      </div>
      <div class="form-signup">
        <label for="inputPassword" class="form-label">성별</label>
        <div class="row">
          <select class="form-select col" aria-label="gender" name="gender" id="">
            <option selected>선택해주세요</option>
            <option value="M">남성</option>
            <option value="W">여성</option>
          </select>
          <!-- <select class="form-select col" style="visibility: hidden;">
          </select> -->
        </div>
      </div>

      <div class="indicator">
        <div></div>
        <div></div>
        <div></div>
      </div>

      <button class="w-100 btn btn-primary mb-4" id="btn-signup"
       >다음</button>


        <!-- <button class="w-100 btn btn-primary mb-4" id="btn-signup"
        onclick="location.href='signup3.html'">다음</button> -->
    </form>
  </main>

  <script src="../node_modules/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
  <script type="text/javascript" src="http://code.jquery.com/jquery-1.12.4.min.js"></script>
  <script type="text/javascript">
  $(document).ready(function(){
   var now = new Date(); var year = now.getFullYear(); var mon = (now.getMonth() + 1) > 9 ? ''+(now.getMonth() + 1) : '0'+(now.getMonth() + 1); var day = (now.getDate()) > 9 ? ''+(now.getDate()) : '0'+(now.getDate());
   //년도 selectbox만들기 
   for(var i = 1900 ; i <= year ; i++) { $('#year').append('<option value="' + i + '">' + i + '년</option>'); } // 월별 selectbox 만들기
   for(var i=1; i <= 12; i++) { var mm = i > 9 ? i : "0"+i ; $('#month').append('<option value="' + mm + '">' + mm + '월</option>'); } // 일별 selectbox 만들기 
   for(var i=1; i <= 31; i++) { var dd = i > 9 ? i : "0"+i ; $('#day').append('<option value="' + dd + '">' + dd+ '일</option>'); } 
   $("#year > option[value="+year+"]").attr("selected", "true");
   $("#month > option[value="+mon+"]").attr("selected", "true");
   $("#day > option[value="+day+"]").attr("selected", "true"); 
  })


  const yy = document.querySelector("select[name=yy]")
  const mm = document.querySelector("select[name=mm]")
  const dd = document.querySelector("select[name=dd]")

  const gender = document.querySelector("select[name=gender]")





  document.querySelector("form[name=form2]").onsubmit = function() {
  
  
  var fd = new FormData(document.forms.namedItem("form2"));
  console.log("fd>>>>>>>>>>>>>>>>>>", fd)


  fetch("/signup/signup2", { 
      method: "POST",
      body: new URLSearchParams(fd)
      
    }) 
    .then(function(response) {
      return response.text();
    })
    .then(function(text) {
      if (text == "success") {
        window.alert("가입 성공")
    	  //location.href = "signup2.html";
      } else {
        location.href = "signup3.html";
    	  //window.alert("가입 실패");
      }
    });
  return false; 
};


  </script>
  





</body>

</html>